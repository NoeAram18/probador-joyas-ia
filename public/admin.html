<div class="form-grid">
    <input type="text" id="prodNombre" placeholder="Nombre de la joya">
    <select id="prodCat">
        <option value="Anillos">Anillos</option>
        <option value="Collares">Collares</option>
    </select>
    <input type="number" id="prodPrecio" placeholder="Precio Base USD">
    <input type="text" id="url1" placeholder="Imagen Principal (URL)">
    <input type="text" id="url2" placeholder="Imagen 2 (Opcional)">
    <input type="text" id="url3" placeholder="Imagen 3 (Opcional)">
</div>
<button class="btn-add" onclick="agregarProducto()">PUBLICAR CON GALERÍA</button>

<script>
async function agregarProducto() {
    const imagenes = [
        document.getElementById('url1').value,
        document.getElementById('url2').value,
        document.getElementById('url3').value
    ].filter(url => url !== ""); // Solo enviamos las que no estén vacías

    const data = {
        nombre: document.getElementById('prodNombre').value,
        categoria: document.getElementById('prodCat').value,
        precioBase: document.getElementById('prodPrecio').value,
        imagenes: imagenes
    };

    const res = await apiRequest('/api/admin/productos', 'POST', data);
    if (res) location.reload();
}
</script>
